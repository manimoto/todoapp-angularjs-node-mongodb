{"version":3,"sources":["Services/LoginService.ts"],"names":[],"mappings":"AAAA,IAAO,GAAG,CAsCT;AAtCD,WAAO,GAAG;IAAC,IAAA,QAAQ,CAsClB;IAtCU,WAAA,QAAQ;QAEf;YAgCI,sBAAoB,KAAsB,EAAU,mBAAqD;gBAArF,UAAK,GAAL,KAAK,CAAiB;gBAAU,wBAAmB,GAAnB,mBAAmB,CAAkC;YAEzG,CAAC;YAhCD,uCAAgB,GAAhB,UAAiB,IAAI;gBACjB,oDAAoD;gBACpD,oFAAoF;gBAChF,IAAI,MAAM,GAAG,IAAI,CAAC;gBAClB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,6BAA6B,EAAC,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,CAAA;gBACpF,mBAAmB,QAAa;oBAC3B,OAAO,CAAC,GAAG,CAAC,uBAAuB,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;oBAClD,IAAI,GAAG,GAAG,QAAQ,CAAC,IAAI,CAAC;oBACvB,MAAM,CAAC,mBAAmB,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;oBAC3C,sCAAsC;oBACtC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC;oBAC3B,MAAM,CAAC,mBAAmB,CAAC,OAAO,CAAC,mBAAmB,CAAC,GAAG;wBACtD,KAAK,EAAE,GAAG,CAAC,OAAO,CAAC;wBACnB,yBAAyB;wBACzB,0CAA0C;wBAC1C,6BAA6B;qBAChC,CAAC;oBACF,MAAM,CAAC,mBAAmB,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;oBAC5C,MAAM,CAAC,mBAAmB,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;oBAC3C,oEAAoE;oBAGxE,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;gBACzB,CAAC;gBAAA,CAAC;gBACF,iBAAiB,QAAY;oBAC1B,oCAAoC;gBACvC,CAAC;YACT,CAAC;YAEM,oBAAO,GAAG,CAAC,OAAO,EAAC,qBAAqB,CAAC,CAAC;YAIrD,mBAAC;SAnCD,AAmCC,IAAA;QAnCY,qBAAY,eAmCxB,CAAA;IACL,CAAC,EAtCU,QAAQ,GAAR,YAAQ,KAAR,YAAQ,QAsClB;AAAD,CAAC,EAtCM,GAAG,KAAH,GAAG,QAsCT;AAED,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,GAAG,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAA","file":"Services/LoginService.js","sourcesContent":["module App.Services{\r\n\r\n    export class LoginService{\r\n        storage :any;\r\n        loginUserService(user){\r\n            //this is written in js style how to bind properly, \r\n            //a short of closure example like var _this=this is used to bind localStorageService\r\n                var __this = this;\r\n                return this.$http.post('http://localhost:4000/login',user).then(onSuccess, onError)\r\n               function onSuccess(response: any):any{\r\n                    console.log(\"Login Service Console\", response.data);\r\n                      let res = response.data;\r\n                       __this.localStorageService.storage.$reset();\r\n                        //this.cacheService.cache.removeAll();\r\n                        this.userName = user.email;\r\n                        __this.localStorageService.storage[\"authorizationData\"] = {\r\n                            token: res[\"token\"]\r\n                            //userName: this.userName\r\n                            //userpermissions: res[\"userpermissions\"],\r\n                            //userroles: res['userroles']\r\n                        };\r\n                        __this.localStorageService.storage.$apply();\r\n                        __this.localStorageService.storage.$sync();\r\n                        //this.$rootScope.$broadcast('userAuthorized', res[\"access_token\"]);\r\n                        \r\n                    \r\n                    return response.data;\r\n                };\r\n                function onError(response:any){\r\n                   // alert(\"Error\"+ response.message);\r\n                }\r\n        }\r\n\r\n        static $inject = ['$http','localStorageService'];\r\n        constructor(private $http: ng.IHttpService, private localStorageService: App.Services.LocalStorageService){\r\n\r\n        }\r\n    }\r\n}\r\n\r\napp2.service('LoginService', App.Services.LoginService)"],"sourceRoot":"/source/"}